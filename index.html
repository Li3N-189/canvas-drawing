<!DOCTYPE html>
<html>
  <head>
    
  </head>
  <body>
    <canvas id="main" width="500" height="500"></canvas>
    <script>
      window.addEventListener('load', () => {
        const canvas = document.querySelector('#main');
        const ctx = canvas.getContext('2d');
        ctx.lineWidth = 5;
        ctx.strokeStyle = 'black';
        ctx.lineCap = 'round';

        const IDLE = 0, BEGINNING = 1, DRAWING = 2;
        let mode = IDLE;

        function draw(x, y) {
          if (mode == BEGINNING) {
            mode = DRAWING;
            ctx.beginPath();
            ctx.moveTo(x, y);
          }
          else {
            ctx.lineTo(x, y);
          }
          ctx.stroke();
        }
        canvas.addEventListener('mousedown', () => mode = BEGINNING);
        canvas.addEventListener('mouseup', () => mode = IDLE);
        canvas.addEventListener('mousemove', (e) => {
          if (mode != IDLE) {
            draw(e.offsetX, e.offsetY);
          }
        });
      });
    </script>
  </body>
</html>
